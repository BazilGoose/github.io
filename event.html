<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Events</title>

    <!-- Css Selection -->
    <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./node_modules/@fortawesome/fontawesome-free/css/all.css">
    <link rel="stylesheet" href="./content/app.css">
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">Volunteer Connect</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0" id="navList">
                    <li class="nav-item">
                        <a id="index" class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a id="opportunity" class="nav-link" href="opportunity.html">Opportunities</a>
                    </li>
                    <li class="nav-item">
                        <a id="event" class="nav-link" href="event.html">Events</a>
                    </li>
                    <li class="nav-item">
                        <a id="contact" class="nav-link" href="contact.html">Contact Us</a>
                    </li>
                    <li class="nav-item">
                        <a id="about" class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item dropdown">
                        <button class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                            More
                        </button>
                        <ul class="dropdown-menu">
                            <li><a id="privacyPolicy" class="dropdown-item" href="privacyPolicy.html">Privacy Policy</a></li>
                            <li><a id="serviceTerms" class="dropdown-item" href="serviceTerms.html">Terms of Service</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<main class="container">
    <h1>Events</h1>
    <!-- Calendar for upcoming events needed here -->
    <!-- Gotten from: C3roe (Jan 30, 2024) https://stackoverflow.com/questions/77905742/fullcalendar-io-6-1-8-add-event-filters -->
    <label for="filterSelect">Filter Events:</label>
    <select id="filterSelect">
        <option value="All">All Events</option>
        <option value="Testing">Testing Events</option>
        <option value="Event">Event Events</option>
    </select>
    <div id="calendar"></div>

    <button style="position: fixed; display: none; z-index: 99; bottom: 20px; right: 30px;" id="backToTopButton">Back To Top</button>

</main>

<!-- Scripting Section -->
<script src="./node_modules/fullcalendar/index.global.min.js"></script>
<!-- Gotten from: https://fullcalendar.io/docs/initialize-globals Thanks fullCalendar :) -->
<!-- and from: C3roe (Jan 30, 2024) https://stackoverflow.com/questions/77905742/fullcalendar-io-6-1-8-add-event-filters -->
<script>
    let events = [
        {
            id: 1,
            title: "TEST EVENT",
            start: "2025-01-25",
            dataFilter: "Testing"
        },
        {
            id: 2,
            title: "Event 2",
            start: '2025-01-30',
            dataFilter: "Event"
        }
    ];

    document.addEventListener('DOMContentLoaded', function() {
        let calendarEl = document.getElementById('calendar');
        let calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            events: events
        });

        calendar.render();

        let filterSelect = document.getElementById('filterSelect');
        filterSelect.addEventListener('change', function(){
            let selectedFilter = filterSelect.value;

            let filteredEvents = events.filter(function(event) {
                return selectedFilter === "All" || event.dataFilter === selectedFilter;
            });

            calendar.setOption('events', filteredEvents);
        });
    });
</script>
<script src="./node_modules/@popperjs/core/dist/umd/popper.js"></script>
<script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="./node_modules/moment/moment.js"></script>
<script src="./scripts/app.js"></script>
</body>
</html>